抱歉，我之前没有完全翻译完第四部分。接下来，我将继续翻译第四部分的剩余内容。

---

#### B. 证明我们的PDF-Zipf方法论

在前面的部分中，我们已经展示了流行密码（即频率 \( f \geq 5 \)）的分布可以通过Zipf定律很好地近似。接下来，我们将进一步证明我们的PDF-Zipf模型的有效性，并提供证据支持我们认为这种分布在用户生成的密码中非常可能存在。

Malone和Maher（2012）也曾尝试研究密码的分布，并得出结论认为它们的数据集（包括3200万个来自Rockyou的数据）“不太可能真正符合Zipf分布”。他们还报告称，“尽管Zipf分布不能完全描述我们的数据，但它为长尾密码选择提供了合理的模型。”我们的PDF-Zipf模型基于Malone-Maher的工作，但不同之处在于，我们没有将那些不太常见的密码（例如，频率小于3的密码）纳入模型。

#### C. 我们的CDF-Zipf模型

如表IV和图2所示，PDF-Zipf模型有一个不理想的特性：它无法很好地捕捉最不流行密码的分布。由于大数法则的作用，最不常见的密码在理论模型中本应很难被准确捕捉。我们尝试过多种方式调整PDF-Zipf模型的参数，以近似这些不常见的密码，但总是陷入两难境地：如果能够很好地拟合它们，整体拟合效果会变差；如果不考虑它们，整体拟合效果的 \( R^2 \) 会较高。尽管如此，PDF-Zipf模型（以及Malone-Maher的工作）为我们展示了密码很可能遵循Zipf分布的初步启示，关键问题是如何提出更好的Zipf模型来克服PDF-Zipf模型的局限性。

正如分布的概率密度函数（PDF）和其累积分布函数（CDF）可以相互转换一样，我们不妨直接建模密码分布的CDF。令人惊讶的是，我们发现每个数据集的CDF图形可以很好地拟合Zipf定律（见图3的虚线绿色）。我们称这一模型为CDF-Zipf模型：

\[
F_r = C' \cdot r^{s'}
\]

其中，\( F_r \) 是到排名 \( r \) 为止的密码的累积频率，\( C' \) 和 \( s' \) 是根据密码数据集计算出的常数，并可以通过线性回归得到。\( F_r \) 是阶梯函数，因为 \( r = 1, 2, 3, \dots \)。因此，我们可以用以下公式近似：

\[
f_r = F_r - F_{r-1} = C' \cdot r^{s'} - C' \cdot (r-1)^{s'}
\]

注意，如果我们将 \( F_r \) 视为一个连续函数，那么 \( f_r \) 可以通过 \( F_r \) 的导数来近似，即：

\[
f_r \approx \frac{dF_r}{dr} = C' \cdot s' \cdot r^{s'-1}
\]

这同样符合Zipf定律。

我们将CDF-Zipf模型应用于我们的14个数据集（见图4），并且总是获得比PDF-Zipf模型更好的拟合效果，从KS统计量 \( D \（即CDF曲线的最大差距）来看，CDF-Zipf模型的拟合效果总是比PDF-Zipf模型更好。我们的CDF-Zipf模型的参数是通过线性回归和黄金分割搜索法计算的。

如表VI所示，CDF-Zipf模型的KS统计量 \( D \) 从0.006170到0.045874（平均值为0.018457），总是小于PDF-Zipf模型的对应值（见表IV）。这意味着CDF-Zipf模型的最大CDF差距始终小于PDF-Zipf模型的差距。KS检验的p值结果表明，对于9个数据集，我们有足够的信心拒绝假设它们是从所建模型抽取的（见表VI中的参数）。正如前面所述，这并不意味着密码数据完全符合所拟合的模型：实际上，由于大样本的影响，即使是微小且不显著的差异，也能通过统计检验达到显著性，这种情况会导致较低的p值【49】。

#### D. 模型的比较

为了更精确地确定Zipf分布的参数，我们还采用了Clauset等人（2009）提出的更复杂的方法。该方法最初用于描述一般的幂律分布，但我们将其用于拟合我们的14个密码数据集。表VII展示了Clauset等人模型对14个数据集的拟合结果，与PDF-Zipf和CDF-Zipf模型相比，Clauset等人模型在小型数据集（如少于百万的密码集）上表现更好，而在大型数据集上，CDF-Zipf模型表现更优。

在表VIII中，我们提供了三种模型的详细比较。通过KS统计量 \( D \) 比较，我们可以观察到：1) CDF-Zipf模型和Clauset等人模型始终优于PDF-Zipf模型；2) 对于百万级数据集，CDF-Zipf模型通常优于其他模型，而对于小型数据集（例如不到百万个密码的数据集），Clauset等人的模型表现更好。整体来看，CDF-Zipf模型在所有方面表现最佳。

---

至此，第四部分已经翻译完成。此部分主要介绍了PDF-Zipf和CDF-Zipf模型的优缺点，并提出了通过CDF-Zipf模型进一步优化密码分布拟合效果的过程，同时与Clauset等人的模型进行了对比分析。