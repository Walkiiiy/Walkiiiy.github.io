---
title: 数据库知识点纲要
date: 2025-03-24 10:10:12
tags:
---
## 数据模型
* 概念模型：E-R图
* 逻辑模型，用于DBMS(数据库管理系统)实现，包括网状，层次，关系模型
* 物理模型
### 三级模式结构(保证独立性)
* 外模式：用户所见（保证逻辑独立性）
* 逻辑模式：程序员查询所见
* 内模式：数据库内部存储（保证物理独立性）
## 安全性授权
```
Grant 权限 On 对象类型 对象名 To 用户名
Revoke 权限 On 对象类型 对象名 To 用户名
```
## 数据库恢复

事物是恢复和并发控制基本单位
#### 事物ACID特性
* 原子性
* 一致性：只执行一半的事物不会对结果造成影响
* 隔离性：不被其他事物干扰
* 持续性：提交后改变是永久的

#### 并发控制
###### 并发控制错误：
* 丢失修改：同时读，后提交的破坏了先提交的结果
* 不可重复读：A读两次，第一次读后B修改数据使A第二次读到不同结果
* 读脏数据：A修改数据写入磁盘，B读数据，A撤销，B读到不同的结果
###### 锁：
* X锁，写锁，排它锁，加锁后不能再加其他任何锁
* S锁，读锁，共享锁，加锁后可以加S锁不能加X锁
###### 封锁协议
* 一级：写加X锁
* 二级：写加X锁，读加S锁
* 三级：写加X锁，读加S锁，事物结束后才能解锁
building......